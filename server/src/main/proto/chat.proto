syntax = "proto3";

option java_multiple_files = true;
option java_package = "io.grpc.chat";
option java_outer_classname = "ChatServiceProto";

package chat;

service ChatService {
	rpc SendMessage(Message) returns (Message) {}
	rpc SendFile(stream File) returns (Url) {}
}

message Message {
	string id = 1;
	string text = 2;
}

message File {
	string name = 1;
	string type = 2;
	bytes data = 3;
}

message Url {
	string url = 1;
}
